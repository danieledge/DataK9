# DataK9 Interactive Demo

Comprehensive interactive demonstration of the DataK9 data validation framework.

---

## Quick Start

```bash
./demo.sh
```

The interactive menu will guide you through all DataK9 features.

---

## What the Demo Includes

### ğŸ“Š Data Validation
Validate the three sample datasets with pre-configured validation rules:
- **Customers** - Email format, phone validation, duplicate detection, status checks
- **Transactions** - Transaction ID format, amount ranges, status validation
- **Accounts** - Account type validation, balance ranges, duplicate detection

Each validation generates:
- âœ… Interactive HTML report with charts and visualizations
- âœ… JSON summary for programmatic access
- âœ… Detailed failure samples and statistics

### ğŸ” Data Profiling
Generate comprehensive data quality profiles:
- Type inference and schema detection
- Statistical distributions (min/max/mean/percentiles)
- Data quality metrics (completeness, uniqueness, validity)
- Pattern detection and correlation analysis
- **Auto-generated validation configs** based on profiling results

### ğŸ§ª Framework Testing
Run the DataK9 test suite:
- All tests (115+ tests)
- Unit tests only
- Integration tests only
- Coverage reports

### âš™ï¸ Configuration Management
- Pre-configured YAML validation files for each dataset
- Backup and restore functionality
- Edit configs and restore defaults when needed

---

## Demo Artifacts

All files generated during the demo are stored in `demo-tmp/`:

```
demo-tmp/
â”œâ”€â”€ configs/                   # Validation YAML configurations
â”‚   â”œâ”€â”€ customers_validation.yaml
â”‚   â”œâ”€â”€ transactions_validation.yaml
â”‚   â”œâ”€â”€ accounts_validation.yaml
â”‚   â”œâ”€â”€ customers_auto_config.yaml      (generated by profiler)
â”‚   â”œâ”€â”€ transactions_auto_config.yaml   (generated by profiler)
â”‚   â””â”€â”€ accounts_auto_config.yaml       (generated by profiler)
â”œâ”€â”€ reports/                   # Validation reports
â”‚   â”œâ”€â”€ customers_validation_report.html
â”‚   â”œâ”€â”€ customers_validation_summary.json
â”‚   â”œâ”€â”€ transactions_validation_report.html
â”‚   â”œâ”€â”€ transactions_validation_summary.json
â”‚   â”œâ”€â”€ accounts_validation_report.html
â”‚   â””â”€â”€ accounts_validation_summary.json
â”œâ”€â”€ profiles/                  # Data profile reports
â”‚   â”œâ”€â”€ customers_profile_report.html
â”‚   â”œâ”€â”€ transactions_profile_report.html
â”‚   â””â”€â”€ accounts_profile_report.html
â””â”€â”€ config-backups/           # Original config backups
    â”œâ”€â”€ customers_validation.yaml.original
    â”œâ”€â”€ transactions_validation.yaml.original
    â””â”€â”€ accounts_validation.yaml.original
```

**Note:** The `demo-tmp/` directory is excluded from git and can be safely deleted.

---

## Menu Options

### Data Validation (Options 1-4)
- **1)** Validate Customers Dataset - Run validations on customer data
- **2)** Validate Transactions Dataset - Run validations on transaction data
- **3)** Validate Accounts Dataset - Run validations on account data
- **4)** Validate All Datasets - Batch validate all three datasets

### Data Profiling (Options 5-8)
- **5)** Profile Customers Dataset - Generate customer data profile
- **6)** Profile Transactions Dataset - Generate transaction data profile
- **7)** Profile Accounts Dataset - Generate account data profile
- **8)** Profile All Datasets - Batch profile all three datasets

### Reports & Files (Options 9-10)
- **9)** View Generated Reports - List all HTML/JSON reports created
- **10)** List Demo Files - Show all demo artifacts and sizes

### Testing & Config (Options 11-13)
- **11)** Run Framework Tests - Execute the DataK9 test suite
- **12)** Restore Default Configs - Reset YAML configs to defaults
- **13)** Clean Demo Artifacts - Delete demo-tmp/ directory

---

## Sample Data Sets

The demo uses three realistic sample datasets with intentional data quality issues:

### 1. Customers (customers.csv)
- **Size:** 88 KB
- **Rows:** 1,020 customers
- **Columns:** 8 (customer_id, first_name, last_name, email, phone, account_balance, registration_date, status)
- **Issues:** Invalid emails (3%), bad phone formats (5%), duplicate IDs (2%), out-of-range balances (2%)

### 2. Transactions (transactions.csv)
- **Size:** 40 KB
- **Rows:** 1,000 transactions
- **Columns:** 4 (transaction_id, customer_id, amount, status)
- **Issues:** Missing customer_ids, invalid amounts, status violations

### 3. Accounts (accounts.csv)
- **Size:** 23 KB
- **Rows:** 500 accounts
- **Columns:** 6 (account_id, account_number, customer_id, account_type, opening_balance, opening_date)
- **Issues:** Invalid account types, out-of-range balances, duplicate IDs

These datasets are specifically designed to trigger various validation rules and demonstrate DataK9's capabilities.

---

## Validation Rules Demonstrated

### File-Level Checks
- EmptyFileCheck - Ensure files contain data
- RowCountRangeCheck - Validate row count within expected range
- FileSizeCheck - Check file size constraints

### Schema Checks
- ColumnPresenceCheck - Verify required columns exist

### Field-Level Validations
- MandatoryFieldCheck - Ensure required fields have values
- RegexCheck - Pattern matching (emails, phone numbers, transaction IDs)
- ValidValuesCheck - Enum validation (status, account types)
- RangeCheck - Numeric range validation (balances, amounts)
- DateFormatCheck - Date format validation

### Record-Level Validations
- DuplicateRowCheck - Find duplicate records
- UniqueKeyCheck - Ensure unique identifiers

### Advanced Validations
- CompletenessCheck - Field completeness percentage

---

## Exit Behavior

When you exit the demo (option 0), you'll be prompted:

```
Delete demo artifacts on exit? (y/N):
```

- **Y** - Deletes `demo-tmp/` directory (clean exit)
- **N** - Preserves all reports and configs for review

---

## Tips

### View HTML Reports
```bash
# Linux
xdg-open demo-tmp/reports/customers_validation_report.html

# macOS
open demo-tmp/reports/customers_validation_report.html

# Or use your browser
firefox demo-tmp/reports/*.html
```

### View JSON Summaries
```bash
cat demo-tmp/reports/customers_validation_summary.json | jq
```

### Edit Validation Configs
```bash
nano demo-tmp/configs/customers_validation.yaml
# Then run validation again (option 1)
# Use option 12 to restore defaults if needed
```

### Compare Auto-Generated Configs
The profiler generates suggested configs - compare them with the manual configs:
```bash
diff demo-tmp/configs/customers_validation.yaml demo-tmp/configs/customers_auto_config.yaml
```

---

## Requirements

- Python 3.8+
- DataK9 framework installed (`pip install -e .`)
- Sample data generated (automatically checked by demo script)

---

## Troubleshooting

### "Sample data directory not found"
Generate sample data:
```bash
cd examples
python3 generate_sample_data.py
```

### "Command not found: tree"
The `tree` command is optional. File listing will use `find` as fallback.

### "Permission denied: ./demo.sh"
Make the script executable:
```bash
chmod +x demo.sh
```

---

## What You'll Learn

By completing the demo, you'll understand:

1. **How to write validation configs** - See working YAML examples
2. **What data quality issues look like** - View real validation failures
3. **How profiling auto-generates rules** - Compare manual vs auto-generated configs
4. **How to interpret reports** - Navigate HTML reports and JSON summaries
5. **How to run validations in production** - Command-line usage examples

---

## Next Steps

After the demo:

1. **Review the sample configs** in `demo-tmp/configs/` to learn YAML syntax
2. **Create your own validation config** for your data
3. **Read the docs** in `docs/` for comprehensive guides
4. **Try DataK9 Studio** - Open `datak9-studio.html` for visual config building
5. **Integrate with CI/CD** - Use exit codes for automated validation

---

## Demo Script Features

- âœ… Beautiful ASCII logo display
- âœ… Color-coded output (success/error/warning/info)
- âœ… Automatic directory structure creation
- âœ… Config backup and restore
- âœ… Batch operations (validate/profile all datasets)
- âœ… Interactive report listing
- âœ… Optional cleanup on exit
- âœ… Comprehensive error handling

---

**ğŸ• Enjoy exploring DataK9!**

For more information, see the main [README.md](README.md) and [documentation](docs/).

Author: Daniel Edge
