validation_job:
  name: Comprehensive Regression Test Suite

files:
  - name: employees
    path: tests/test_data/regression_test_data.csv
    format: csv

validations:
  # ===== FILE VALIDATIONS (1 type) =====
  - type: EmptyFileCheck
    severity: ERROR
    description: "File should not be empty"

  # ===== SCHEMA VALIDATIONS (3 types) =====
  - type: SchemaMatchCheck
    params:
      expected_schema:
        employee_id: "integer"
        first_name: "string"
        last_name: "string"
        email: "string"
        phone: "string"
        dept_id: "integer"
        salary: "number"
        hire_date: "date"
        status: "string"
        performance_score: "number"
        years_experience: "integer"
        manager_id: "integer"
        last_review_date: "date"
    severity: ERROR

  - type: ColumnExistenceCheck
    params:
      columns:
        - employee_id
        - first_name
        - email
        - salary
    severity: ERROR

  - type: DataTypeConsistencyCheck
    params:
      column: employee_id
      expected_type: int64
    severity: ERROR

  # ===== FIELD VALIDATIONS (10 types) =====
  - type: MandatoryFieldCheck
    params:
      fields:
        - employee_id
        - first_name
        - last_name
    severity: ERROR

  - type: CompletenessCheck
    params:
      column: email
      min_completeness: 0.90
    severity: WARNING

  - type: RangeCheck
    params:
      column: salary
      min: 0
      max: 200000
    severity: ERROR

  - type: ValueSetCheck
    params:
      column: status
      allowed_values:
        - active
        - inactive
        - probation
        - terminated
    severity: ERROR

  - type: PatternCheck
    params:
      column: email
      pattern: "^[a-zA-Z0-9._%+-]+@[a-zA-Z0-9.-]+\\.[a-zA-Z]{2,}$"
    severity: WARNING

  - type: LengthCheck
    params:
      column: phone
      min_length: 8
      max_length: 12
    severity: WARNING

  - type: FormatCheck
    params:
      column: hire_date
      format: "%Y-%m-%d"
    severity: ERROR

  - type: UniqueConstraintCheck
    params:
      columns:
        - employee_id
    severity: ERROR

  - type: CustomValidation
    params:
      expression: "performance_score >= 0 and performance_score <= 5"
      column_dependencies:
        - performance_score
    severity: WARNING

  - type: NullCheck
    params:
      column: employee_id
      allow_null: false
    severity: ERROR

  # ===== RECORD VALIDATIONS (5 types) =====
  - type: RecordCountCheck
    params:
      min_records: 10
      max_records: 1000
    severity: ERROR

  - type: DuplicateCheck
    params:
      columns:
        - first_name
        - email
    severity: WARNING

  - type: ConditionalValidation
    params:
      condition: "status == 'active'"
      validations:
        - type: RangeCheck
          params:
            column: performance_score
            min: 3.0
            max: 5.0
    severity: WARNING

  - type: CrossFieldValidation
    params:
      expression: "salary > 0 if status == 'active' else True"
      column_dependencies:
        - salary
        - status
    severity: ERROR

  - type: AggregateCheck
    params:
      column: salary
      aggregation: mean
      comparison: ">"
      value: 50000
    severity: WARNING

  # ===== ADVANCED VALIDATIONS (8 types) =====
  - type: StatisticalOutlierCheck
    params:
      column: salary
      method: iqr
      threshold: 1.5
    severity: WARNING

  - type: CorrelationCheck
    params:
      column1: years_experience
      column2: salary
      min_correlation: 0.3
    severity: INFO

  - type: DistributionCheck
    params:
      column: performance_score
      expected_distribution: normal
    severity: INFO

  - type: SequenceCheck
    params:
      column: employee_id
      expected_pattern: consecutive
    severity: WARNING

  - type: TimeSeriesCheck
    params:
      column: hire_date
      metric: record_count
      trend: any
    severity: INFO

  - type: DataFreshnessCheck
    params:
      column: last_review_date
      max_age_days: 90
    severity: WARNING

  - type: EntropyCheck
    params:
      column: dept_id
      min_entropy: 1.0
    severity: INFO

  - type: BenfordCheck
    params:
      column: salary
    severity: INFO

  # ===== MISSING/STATISTICAL/TEMPORAL (3 types) =====
  - type: MissingPatternCheck
    params:
      columns:
        - email
        - phone
        - salary
    severity: INFO

  - type: SkewKurtosisCheck
    params:
      column: salary
      max_skewness: 3.0
      max_kurtosis: 10.0
    severity: INFO

  - type: SeasonalityCheck
    params:
      column: hire_date
      metric: record_count
      period: 12
    severity: INFO

output:
  html_report: tests/test_data/regression_report.html
  json_summary: tests/test_data/regression_summary.json
  fail_on_error: false
