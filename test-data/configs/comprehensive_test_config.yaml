validation_job:
  job_name: "Comprehensive Framework Test - All Validation Types"
  description: |
    Ultimate test of DataK9 framework using ecommerce parquet data.
    Tests 25+ validation types across all categories to verify framework completeness.

  max_sample_failures: 100
  chunk_size: 50000

  files:
    - name: "E-Commerce Transactions"
      path: "../test-data/ecommerce_transactions.parquet"
      format: "parquet"

      validations:
        # ========================================
        # FILE-LEVEL VALIDATIONS (3 types)
        # ========================================

        - type: "EmptyFileCheck"
          severity: "ERROR"
          enabled: true

        - type: "RowCountRangeCheck"
          severity: "ERROR"
          enabled: true
          params:
            min_rows: 50000
            max_rows: 150000

        - type: "FileSizeCheck"
          severity: "WARNING"
          enabled: true
          params:
            min_size_mb: 1
            max_size_mb: 100

        # ========================================
        # SCHEMA VALIDATIONS (2 types)
        # ========================================

        - type: "SchemaMatchCheck"
          severity: "ERROR"
          enabled: true
          params:
            expected_schema:
              - transaction_id
              - transaction_date
              - customer_id
              - product_id
              - product_category
              - product_name
              - quantity
              - unit_price
              - subtotal
              - tax_rate
              - tax_amount
              - shipping_method
              - shipping_cost
              - discount_code
              - discount_amount
              - total_amount
              - payment_method
              - transaction_status
              - country
              - customer_age
              - customer_segment
              - order_priority

        - type: "ColumnPresenceCheck"
          severity: "ERROR"
          enabled: true
          params:
            required_columns:
              - transaction_id
              - customer_id
              - total_amount
              - transaction_status

        # ========================================
        # FIELD-LEVEL VALIDATIONS (5 types)
        # ========================================

        - type: "MandatoryFieldCheck"
          severity: "ERROR"
          enabled: true
          params:
            field: "transaction_id"

        - type: "MandatoryFieldCheck"
          severity: "ERROR"
          enabled: true
          params:
            field: "customer_id"

        - type: "RegexCheck"
          severity: "ERROR"
          enabled: true
          params:
            field: "transaction_id"
            pattern: "^TXN\\d{6}$"

        - type: "RegexCheck"
          severity: "ERROR"
          enabled: true
          params:
            field: "customer_id"
            pattern: "^CUST\\d{5}$"

        - type: "ValidValuesCheck"
          severity: "ERROR"
          enabled: true
          params:
            field: "transaction_status"
            valid_values:
              - "Completed"
              - "Pending"
              - "Cancelled"
              - "Refunded"
              - "Failed"

        - type: "ValidValuesCheck"
          severity: "WARNING"
          enabled: true
          params:
            field: "payment_method"
            valid_values:
              - "Credit Card"
              - "Debit Card"
              - "PayPal"
              - "Bank Transfer"
              - "Cash on Delivery"
              - "Apple Pay"

        - type: "RangeCheck"
          severity: "ERROR"
          enabled: true
          params:
            field: "customer_age"
            min_value: 18
            max_value: 100

        - type: "RangeCheck"
          severity: "ERROR"
          enabled: true
          params:
            field: "quantity"
            min_value: 1
            max_value: 100

        - type: "RangeCheck"
          severity: "WARNING"
          enabled: true
          params:
            field: "total_amount"
            min_value: 0
            max_value: 50000

        - type: "DateFormatCheck"
          severity: "ERROR"
          enabled: true
          params:
            field: "transaction_date"
            date_format: "%Y-%m-%d %H:%M:%S"

        # ========================================
        # RECORD-LEVEL VALIDATIONS (3 types)
        # ========================================

        - type: "DuplicateRowCheck"
          severity: "WARNING"
          enabled: true
          params:
            subset:
              - transaction_id

        - type: "BlankRecordCheck"
          severity: "WARNING"
          enabled: true

        - type: "UniqueKeyCheck"
          severity: "ERROR"
          enabled: true
          params:
            key_fields:
              - transaction_id

        # ========================================
        # ADVANCED VALIDATIONS (6 types)
        # ========================================

        - type: "StatisticalOutlierCheck"
          severity: "WARNING"
          enabled: true
          params:
            field: "total_amount"
            method: "iqr"
            threshold: 3.0

        - type: "StatisticalOutlierCheck"
          severity: "WARNING"
          enabled: true
          params:
            field: "customer_age"
            method: "zscore"
            threshold: 3.0

        - type: "CrossFieldComparisonCheck"
          severity: "ERROR"
          enabled: true
          params:
            field1: "subtotal"
            field2: "total_amount"
            comparison: "<="

        - type: "CompletenessCheck"
          severity: "WARNING"
          enabled: true
          params:
            threshold: 0.95

        - type: "StringLengthCheck"
          severity: "WARNING"
          enabled: true
          params:
            field: "product_name"
            min_length: 5
            max_length: 100

        - type: "NumericPrecisionCheck"
          severity: "WARNING"
          enabled: true
          params:
            field: "unit_price"
            max_decimal_places: 2

        # ========================================
        # INLINE VALIDATIONS (3 types)
        # ========================================

        - type: "InlineRegexCheck"
          severity: "WARNING"
          enabled: true
          params:
            field: "product_id"
            pattern: "^PROD\\d{4}$"

        - type: "InlineBusinessRuleCheck"
          severity: "ERROR"
          enabled: true
          params:
            field: "discount_amount"
            expression: "discount_amount >= 0"

        - type: "InlineBusinessRuleCheck"
          severity: "ERROR"
          enabled: true
          params:
            field: "tax_amount"
            expression: "tax_amount >= 0"

        # ========================================
        # STATISTICAL VALIDATIONS (1 type)
        # ========================================

        - type: "DistributionCheck"
          severity: "WARNING"
          enabled: true
          params:
            field: "customer_age"
            distribution_type: "normal"
            confidence_level: 0.95
