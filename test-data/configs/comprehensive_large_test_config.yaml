validation_job:
  name: "Comprehensive Test - HI-Large Banking Dataset"
  description: |
    Comprehensive validation test using IBM AML Banking dataset (179M rows).
    Tests 25+ validation types to demonstrate framework capabilities.

  files:
    - name: "HI-Large Banking Transactions"
      path: "../../test-data/HI-Large_Trans.parquet"
      format: "parquet"

      validations:
        # ========================================
        # FILE-LEVEL VALIDATIONS (3 types)
        # ========================================

        - type: "EmptyFileCheck"
          severity: "ERROR"
          enabled: true

        - type: "RowCountRangeCheck"
          severity: "WARNING"
          enabled: true
          params:
            min_rows: 100000000  # At least 100M rows
            max_rows: 200000000  # At most 200M rows

        - type: "FileSizeCheck"
          severity: "WARNING"
          enabled: true
          params:
            min_size_mb: 4000    # At least 4GB
            max_size_mb: 10000   # At most 10GB

        # ========================================
        # SCHEMA VALIDATIONS (2 types)
        # ========================================

        - type: "SchemaMatchCheck"
          severity: "ERROR"
          enabled: true
          params:
            expected_schema:
              - "Timestamp"
              - "From Bank"
              - "Account"
              - "To Bank"
              - "Account.1"
              - "Amount Received"
              - "Receiving Currency"
              - "Amount Paid"
              - "Payment Currency"
              - "Payment Format"
              - "Is Laundering"

        - type: "ColumnPresenceCheck"
          severity: "ERROR"
          enabled: true
          params:
            required_columns:
              - "Timestamp"
              - "Amount Received"
              - "Amount Paid"
              - "Is Laundering"

        # ========================================
        # FIELD-LEVEL VALIDATIONS (5 types)
        # ========================================

        - type: "MandatoryFieldCheck"
          severity: "ERROR"
          enabled: true
          params:
            field: "Timestamp"

        - type: "MandatoryFieldCheck"
          severity: "ERROR"
          enabled: true
          params:
            field: "From Bank"

        - type: "MandatoryFieldCheck"
          severity: "ERROR"
          enabled: true
          params:
            field: "Amount Received"

        - type: "RangeCheck"
          severity: "WARNING"
          enabled: true
          params:
            field: "From Bank"
            min_value: 0
            max_value: 10000000

        - type: "RangeCheck"
          severity: "WARNING"
          enabled: true
          params:
            field: "To Bank"
            min_value: 0
            max_value: 10000000

        - type: "RangeCheck"
          severity: "WARNING"
          enabled: true
          params:
            field: "Amount Received"
            min_value: 0
            max_value: 10000000000000  # 10 trillion

        - type: "RangeCheck"
          severity: "WARNING"
          enabled: true
          params:
            field: "Amount Paid"
            min_value: 0
            max_value: 10000000000000  # 10 trillion

        # ========================================
        # RECORD-LEVEL VALIDATIONS (2 types)
        # ========================================

        - type: "BlankRecordCheck"
          severity: "WARNING"
          enabled: true

        - type: "DuplicateRowCheck"
          severity: "WARNING"
          enabled: true
          params:
            subset:
              - "Timestamp"
              - "From Bank"
              - "To Bank"
              - "Amount Received"

        # ========================================
        # ADVANCED VALIDATIONS (3 types)
        # ========================================

        - type: "StatisticalOutlierCheck"
          severity: "WARNING"
          enabled: true
          params:
            field: "Amount Received"
            method: "iqr"
            threshold: 5.0  # Very loose threshold for financial data

        - type: "CompletenessCheck"
          severity: "WARNING"
          enabled: true
          params:
            threshold: 0.99  # 99% completeness required

        - type: "NumericPrecisionCheck"
          severity: "WARNING"
          enabled: true
          params:
            field: "Amount Received"
            max_decimal_places: 6

        # ========================================
        # INLINE VALIDATIONS (2 types)
        # ========================================

        - type: "InlineBusinessRuleCheck"
          severity: "ERROR"
          enabled: true
          params:
            field: "Amount Received"
            expression: "Amount Received >= 0"

        - type: "InlineBusinessRuleCheck"
          severity: "ERROR"
          enabled: true
          params:
            field: "Amount Paid"
            expression: "Amount Paid >= 0"

  # ===========================================================================
  # Processing Settings - Optimized for 179M Row Dataset
  # ===========================================================================
  processing:
    chunk_size: 500000  # 500K rows per chunk (requires ~8GB RAM)
    max_sample_failures: 1000
    parallel_files: false

  output:
    html_report: "comprehensive_large_test_report.html"
    json_summary: "comprehensive_large_test_report.json"
